<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Delitzsch3 Karte</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        .leaflet-container {
            height: 506px;
            width: 405px;
            max-width: 100%;
            max-height: 100%;
        }
        .leaflet-control-zoom {
            background: none !important;
            box-shadow: none !important;
            border: none !important;
        }

        /*+ und - button formatierung*/
        .leaflet-control-zoom-in, .leaflet-control-zoom-out {
            background-color: white !important; /*hintergrundfarbe*/
            color: grey !important; /*button farbe*/
            border: none !important; /*keine umrandung*/
            width: 30px; 
            height: 30px; 
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 15px; /*symbolgröße*/
            font-weight: 20;
            font-family: 'Montserrat', sans-serif; /*dgn font*/
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /*schatten*/
        }

        .leaflet-control-zoom-in:hover, .leaflet-control-zoom-out:hover {
            background-color: #f0f0f0 !important; /* hover maus effekt */
        }
        /*zurück zu ausgangskarte zoomen button formatieren*/
        .custom-control {
            position: absolute;
            bottom: -40px;
            left:0px;
            background: white;
            padding: 5px;
            border-radius: 2px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 20px;
            height: 20px;
            color: grey
        }

        /*legenden button formatieren*/
        .custom-control2 {
            position: absolute;
            bottom: -320px;
            left: 0px;
            background: white;
            padding: 5px;
            border-radius:2px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 20px;
            height: 20px;
            color: grey
        }
        .custom-control:hover, .custom-control2:hover {
            background-color: #f0f0f0 !important;
        }
            /* Style for the search button to match others */
        .leaflet-control-geocoder-icon {
            background-color: white !important;
            color: grey !important;
            border: none !important;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 15px;
            font-family: 'Montserrat', sans-serif;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            border-radius: 2px;
            cursor: pointer;
        }
        .leaflet-control-geocoder-icon:hover {
            background-color: #f0f0f0 !important;
        }

        /* Custom style for the gray circle marker */
        .custom-marker {
            width: 15px;
            height: 15px;
            background-color: grey;
            border-radius: 50%;
            border: 1px solid white;
        }
        /*legende formatieren*/
        #legend {
            position: absolute;
            bottom: 80px;
            left: 55px;
            display: none;
            z-index: 1000;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            font-family: 'Montserrat', sans-serif;
        }

        #legend div {
            font-size: 12px;
            line-height: 18px;
        }
    </style>
      <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
</head>
<body>
<div id="map" style="width: 506px; height: 405px;"></div>
<div id="legend">
    <div><span style="display:inline-block; width:20px; height:10px; background:#E8B899; margin-right:5px;"></span>Ausbauphase 1: Ausbau bei ausreichender Nachfrage</div>
    <div><span style="display:inline-block;width:20px; height:10px; background:#BCBCBB; margin-right:5px;"></span>Ausbauphase 2: Interessenbekundung möglich</div>
</div>
<script>
    const initialCoordinates = [51.526, 12.35];
    const initialZoomLevel = 13;
    
    const map = L.map('map',{
    zoomControl: false //default zoom - + rausnehmen
}).setView(initialCoordinates, initialZoomLevel);


    const CartoDB_Positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
        subdomains: 'abcd',
        maxZoom: 30
    }).addTo(map);

    L.control.zoom({
        position: 'topleft'
    }).addTo(map);
  
  	const geoJsonData = {
"type": "FeatureCollection",
"features": [
{ "type": "Feature", "properties": { "dgn_phase": 2}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.361689597243199, 51.525026823396935 ], [ 12.363656895520709, 51.525044408538662 ], [ 12.363503909602329, 51.520741473027144 ], [ 12.358330790264198, 51.522068914960848 ], [ 12.358386943478427, 51.523187679806135 ], [ 12.360998833534651, 51.523185660588808 ], [ 12.361686919762835, 51.52376746816698 ], [ 12.361689597243199, 51.525026823396935 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.346820434738889, 51.523498511775465 ], [ 12.346510787363238, 51.523424341213065 ], [ 12.346244776613949, 51.523873304188342 ], [ 12.346490118975472, 51.523957472715097 ], [ 12.346820434738889, 51.523498511775465 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.34866166304367, 51.523941984416751 ], [ 12.348258949325688, 51.523846739449539 ], [ 12.347460842515664, 51.523653079387088 ], [ 12.3469903, 51.5235392 ], [ 12.346820434738889, 51.523498511775465 ], [ 12.346490118975472, 51.523957472715097 ], [ 12.345859745621624, 51.524997966785747 ], [ 12.345437272455392, 51.525688315286502 ], [ 12.347560366599277, 51.526140011267955 ], [ 12.347685947029229, 51.525952008620081 ], [ 12.348186300390282, 51.525120637334439 ], [ 12.348883912293452, 51.523986480827794 ], [ 12.34866166304367, 51.523941984416751 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.36980607998378, 51.525570550908085 ], [ 12.371241850076624, 51.525637225962129 ], [ 12.375347538215305, 51.525096322052967 ], [ 12.376981079858513, 51.525264764315558 ], [ 12.376931934399764, 51.525498262369496 ], [ 12.378081420718182, 51.52558946218673 ], [ 12.378139530383393, 51.525297684704107 ], [ 12.378417973229617, 51.525289657748075 ], [ 12.37840493614546, 51.525472383678519 ], [ 12.378959372133705, 51.525423243931471 ], [ 12.37875635988685, 51.525014665325237 ], [ 12.379092066208363, 51.524524244464295 ], [ 12.379420571465467, 51.523578154807147 ], [ 12.378711510607078, 51.523333364129471 ], [ 12.378461657213911, 51.523547783732049 ], [ 12.375203867574264, 51.522796219509992 ], [ 12.374571330996355, 51.522507756808999 ], [ 12.37428902708441, 51.522283804186806 ], [ 12.374436499446118, 51.522122073612607 ], [ 12.373927584509083, 51.521888068133194 ], [ 12.373611424145095, 51.522104386320436 ], [ 12.372753715656762, 51.522004746131337 ], [ 12.372607460919136, 51.522183016747597 ], [ 12.372311495701258, 51.522133513905551 ], [ 12.372484070304756, 51.521772136303248 ], [ 12.372557107322942, 51.521322448178665 ], [ 12.373315676931997, 51.52115970728719 ], [ 12.374138695132203, 51.520970239818595 ], [ 12.37409504573521, 51.520739414827418 ], [ 12.374329404584904, 51.520674646168786 ], [ 12.373930654099798, 51.519235616252757 ], [ 12.372583893664114, 51.519348982477901 ], [ 12.372655470229317, 51.519777931420776 ], [ 12.372337286347337, 51.519787088709535 ], [ 12.372361552269419, 51.519935585774363 ], [ 12.371754754706691, 51.519994490189298 ], [ 12.37174185802612, 51.520898322140077 ], [ 12.370810129712211, 51.520875395402186 ], [ 12.371003880901764, 51.521159923998788 ], [ 12.370696690221113, 51.52131795580263 ], [ 12.370688282749706, 51.521923267531001 ], [ 12.370291144618893, 51.521942978722379 ], [ 12.370729775709437, 51.523563222316369 ], [ 12.370446327349216, 51.52512134804676 ], [ 12.369811003285653, 51.525099418426329 ], [ 12.36980607998378, 51.525570550908085 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.347702674030646, 51.523093356869254 ], [ 12.347834672943968, 51.522922438166937 ], [ 12.347427973589411, 51.5228214404504 ], [ 12.347319163674376, 51.522985700358802 ], [ 12.347702674030646, 51.523093356869254 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.348796773155193, 51.523716595433029 ], [ 12.349031582009346, 51.523762597302571 ], [ 12.349120770464292, 51.523609438668316 ], [ 12.348080453975196, 51.523362334398662 ], [ 12.347944913968425, 51.523543046281077 ], [ 12.348796773155193, 51.523716595433029 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.34926614764586, 51.523515101572009 ], [ 12.351432535216508, 51.524037837611466 ], [ 12.351546696438836, 51.523876911019947 ], [ 12.34997162832448, 51.523531749309093 ], [ 12.349688009037752, 51.523440741605405 ], [ 12.349350876678058, 51.523367491370351 ], [ 12.34926614764586, 51.523515101572009 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.349217985880184, 51.523803661486504 ], [ 12.349314309411527, 51.523657162066122 ], [ 12.351560074707082, 51.524196543968813 ], [ 12.351472670021233, 51.52434859079937 ], [ 12.349217985880184, 51.523803661486504 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.352080935283968, 51.524212081624427 ], [ 12.352228988119181, 51.523965698175232 ], [ 12.353003143908117, 51.524135503127589 ], [ 12.352847955996511, 51.52439409376673 ], [ 12.352080935283968, 51.524212081624427 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.35185129363242, 51.525888691992883 ], [ 12.351851293632409, 51.525888691992868 ], [ 12.352780733836749, 51.524630552561547 ], [ 12.353063795327854, 51.52472426482192 ], [ 12.353392230409145, 51.524173056063297 ], [ 12.353900216117632, 51.524159840514578 ], [ 12.353813879572037, 51.523788701518605 ], [ 12.354159225754412, 51.523739867214999 ], [ 12.354143528200666, 51.523593363989924 ], [ 12.353868821010144, 51.523617781226839 ], [ 12.35361766015024, 51.522880374899273 ], [ 12.354041494101329, 51.522802238429776 ], [ 12.354017947770714, 51.522650848638612 ], [ 12.354650732443671, 51.522600227200982 ], [ 12.354477558040715, 51.522080905550133 ], [ 12.353615414576961, 51.522197598670083 ], [ 12.352840029228808, 51.522132755685618 ], [ 12.35236070030026, 51.522161910361689 ], [ 12.351970977951293, 51.522035758439628 ], [ 12.351682499216759, 51.521888185517668 ], [ 12.351682288231302, 51.521887798314943 ], [ 12.351679423790452, 51.521888288393399 ], [ 12.349745674466158, 51.521247338733332 ], [ 12.3487001, 51.5214122 ], [ 12.348700602776434, 51.521413148206335 ], [ 12.349092, 51.5221513 ], [ 12.348671, 51.522247199999988 ], [ 12.348565326496962, 51.522271558961947 ], [ 12.3490572, 51.5230504 ], [ 12.3484141, 51.5232827 ], [ 12.347702674030646, 51.523093356869254 ], [ 12.347319163674376, 51.522985700358802 ], [ 12.3469212, 51.5228849 ], [ 12.346510787363238, 51.523424341213065 ], [ 12.3469903, 51.5235392 ], [ 12.347460842515664, 51.523653079387088 ], [ 12.347659634525598, 51.523257119594589 ], [ 12.348080453975196, 51.523362334398662 ], [ 12.349120770464292, 51.523609438668316 ], [ 12.349031582009346, 51.523762597302571 ], [ 12.348796773155193, 51.523716595433029 ], [ 12.34866166304367, 51.523941984416751 ], [ 12.348883912293452, 51.523986480827794 ], [ 12.347685947029229, 51.525952008620081 ], [ 12.351359174605344, 51.526718663897022 ], [ 12.351851293632411, 51.525888691992883 ], [ 12.35185129363242, 51.525888691992883 ] ], [ [ 12.351769574993069, 51.524832303906784 ], [ 12.351105458089801, 51.525920524479709 ], [ 12.348953115584912, 51.525381129603382 ], [ 12.349695313954427, 51.524269968336796 ], [ 12.351769574993069, 51.524832303906784 ] ], [ [ 12.350815134968984, 51.522531853682842 ], [ 12.350931312117646, 51.522645905123177 ], [ 12.350711866392396, 51.522730238750995 ], [ 12.350596980100939, 51.522619400236465 ], [ 12.350815134968984, 51.522531853682842 ] ], [ [ 12.35065506867527, 51.5218234432689 ], [ 12.350855151542413, 51.522123836332099 ], [ 12.350651196103646, 51.522178453039793 ], [ 12.350452404093714, 51.521879666720224 ], [ 12.35065506867527, 51.5218234432689 ] ], [ [ 12.349688009037752, 51.523440741605405 ], [ 12.34997162832448, 51.523531749309093 ], [ 12.351546696438836, 51.523876911019947 ], [ 12.351432535216508, 51.524037837611466 ], [ 12.34926614764586, 51.523515101572009 ], [ 12.349350876678058, 51.523367491370351 ], [ 12.349688009037752, 51.523440741605405 ] ], [ [ 12.349217985880184, 51.523803661486504 ], [ 12.349314309411527, 51.523657162066122 ], [ 12.351560074707082, 51.524196543968813 ], [ 12.351472670021233, 51.52434859079937 ], [ 12.349217985880184, 51.523803661486504 ] ], [ [ 12.352080935283968, 51.524212081624427 ], [ 12.352228988119181, 51.523965698175232 ], [ 12.353003143908117, 51.524135503127589 ], [ 12.352847955996511, 51.52439409376673 ], [ 12.352080935283968, 51.524212081624427 ] ], [ [ 12.352748064926971, 51.524640474897978 ], [ 12.352207582889996, 51.524507296073672 ], [ 12.352296771344941, 51.524377446344928 ], [ 12.352837253381919, 51.524498417471541 ], [ 12.352748064926971, 51.524640474897978 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.3490572, 51.5230504 ], [ 12.348565326496962, 51.522271558961947 ], [ 12.348671, 51.522247199999988 ], [ 12.349092, 51.5221513 ], [ 12.348700602776434, 51.521413148206335 ], [ 12.348674070680271, 51.521415758784144 ], [ 12.348476676410657, 51.520969502885251 ], [ 12.348144327286334, 51.520960188956927 ], [ 12.348113747227707, 51.52095933196513 ], [ 12.348108312269897, 51.52096793051409 ], [ 12.3469212, 51.5228849 ], [ 12.347319163674376, 51.522985700358802 ], [ 12.347427973589411, 51.5228214404504 ], [ 12.347834672943968, 51.522922438166937 ], [ 12.347702674030646, 51.523093356869254 ], [ 12.3484141, 51.5232827 ], [ 12.3490572, 51.5230504 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.358029805228902, 51.524920149161154 ], [ 12.358031588998001, 51.524784751518062 ], [ 12.359856384786209, 51.524829144232307 ], [ 12.359852817248012, 51.524972310440809 ], [ 12.358029805228902, 51.524920149161154 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 2}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.346266943071008, 51.522863487297897 ], [ 12.34690440941492, 51.521738821850143 ], [ 12.347320442161562, 51.521425674818026 ], [ 12.347769911637524, 51.521089660891796 ], [ 12.348094835709148, 51.520970827349238 ], [ 12.348108312269897, 51.52096793051409 ], [ 12.348113747227707, 51.52095933196513 ], [ 12.348144327286334, 51.520960188956927 ], [ 12.348388723968549, 51.520907655012124 ], [ 12.348810493819018, 51.520912035450749 ], [ 12.349704336217632, 51.521127500186438 ], [ 12.35069303387119, 51.521438841649186 ], [ 12.351682288231304, 51.521887798314943 ], [ 12.352055687531239, 51.521823913262914 ], [ 12.350945046317138, 51.521283742135246 ], [ 12.349183167609233, 51.520726103884691 ], [ 12.348643082087079, 51.520664852949317 ], [ 12.34808473795832, 51.520713671844632 ], [ 12.34771440186522, 51.520811892578905 ], [ 12.347134245623089, 51.521042088542188 ], [ 12.346918471963928, 51.521212577319602 ], [ 12.346650989883493, 51.521516003117647 ], [ 12.346211038694834, 51.522580252140557 ], [ 12.346099949350403, 51.522677672834746 ], [ 12.346132150736825, 51.522900699014571 ], [ 12.346266943071008, 51.522863487297897 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 2}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.367161143109461, 51.521313431285058 ], [ 12.36759382357868, 51.520359373088056 ], [ 12.368545291460489, 51.520469346447513 ], [ 12.368412978238428, 51.520806642027651 ], [ 12.370118989290294, 51.520914528363875 ], [ 12.36993405437771, 51.52139065945407 ], [ 12.367161143109461, 51.521313431285058 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.350711866392396, 51.522730238750995 ], [ 12.350596980100939, 51.522619400236465 ], [ 12.350815134968984, 51.522531853682842 ], [ 12.350931312117646, 51.522645905123177 ], [ 12.350711866392396, 51.522730238750995 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.350651196103646, 51.522178453039793 ], [ 12.350452404093714, 51.521879666720224 ], [ 12.35065506867527, 51.5218234432689 ], [ 12.350855151542413, 51.522123836332099 ], [ 12.350651196103646, 51.522178453039793 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.361689597243199, 51.525026823396935 ], [ 12.361686109133171, 51.525172997067735 ], [ 12.361679849451351, 51.525435316966551 ], [ 12.362208797290764, 51.525432894903012 ], [ 12.36980607998378, 51.525570550908085 ], [ 12.369811003285653, 51.525099418426329 ], [ 12.361689597243199, 51.525026823396935 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.348796773155193, 51.523716595433029 ], [ 12.347944913968425, 51.523543046281077 ], [ 12.348080453975196, 51.523362334398662 ], [ 12.347659634525598, 51.523257119594589 ], [ 12.347460842515664, 51.523653079387088 ], [ 12.348258949325688, 51.523846739449539 ], [ 12.34866166304367, 51.523941984416751 ], [ 12.348796773155193, 51.523716595433029 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 2}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.354745806085372, 51.522885337469688 ], [ 12.356522900091166, 51.5228993598774 ], [ 12.356298493381356, 51.522192547288888 ], [ 12.354477558040715, 51.522080905550133 ], [ 12.354745806085372, 51.522885337469688 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.359745865542664, 51.526526206009741 ], [ 12.359829967044465, 51.526913988018833 ], [ 12.359731857333571, 51.527062922098693 ], [ 12.361752917378118, 51.527490189296337 ], [ 12.362925204250033, 51.52544587555991 ], [ 12.362208797290764, 51.525432894903012 ], [ 12.361679849451351, 51.525435316966551 ], [ 12.361686109133171, 51.525172997067735 ], [ 12.361689597243199, 51.525026823396935 ], [ 12.361686919762835, 51.52376746816698 ], [ 12.360998833534651, 51.523185660588808 ], [ 12.358386943478427, 51.523187679806135 ], [ 12.358330790264198, 51.522068914960848 ], [ 12.356298493381356, 51.522192547288888 ], [ 12.356522900091166, 51.5228993598774 ], [ 12.354745806085372, 51.522885337469688 ], [ 12.354804787652158, 51.523129434001 ], [ 12.35488327542088, 51.523476161070505 ], [ 12.355150133834531, 51.524013338640692 ], [ 12.355175455563264, 51.524423832981974 ], [ 12.355180300270579, 51.524660426298468 ], [ 12.355481744657363, 51.524683580859232 ], [ 12.3554640849094, 51.524802001500746 ], [ 12.355182924295796, 51.524788571672055 ], [ 12.355185638292166, 51.524921110824707 ], [ 12.355561398096251, 51.5250252619552 ], [ 12.356581585154492, 51.525075100382622 ], [ 12.35650342552702, 51.525680524139894 ], [ 12.356431929930451, 51.525859483186515 ], [ 12.356113571195547, 51.526652741816768 ], [ 12.357310155208376, 51.526842366303867 ], [ 12.357461273674559, 51.526596127913358 ], [ 12.35640344441128, 51.526300640086944 ], [ 12.356503297417614, 51.526028675973642 ], [ 12.356747359927972, 51.525660236739718 ], [ 12.357801058223039, 51.525883643828365 ], [ 12.358102672236051, 51.526205879075583 ], [ 12.358373447750481, 51.526339884799299 ], [ 12.358377115608084, 51.526211864211774 ], [ 12.358377369870551, 51.526202989595035 ], [ 12.358378455482974, 51.526165098064034 ], [ 12.358472090597397, 51.525957994487861 ], [ 12.358680121232712, 51.525497869151422 ], [ 12.358758609001432, 51.525263472814743 ], [ 12.36013214495404, 51.52529277242283 ], [ 12.359745865542664, 51.526526206009741 ] ], [ [ 12.357367724147878, 51.524131432107509 ], [ 12.357324894070921, 51.523356914855313 ], [ 12.359756820164703, 51.523384178515535 ], [ 12.359713001676528, 51.523258083950175 ], [ 12.360978260522621, 51.523247860051193 ], [ 12.361449309270517, 51.523704525300431 ], [ 12.360167013830976, 51.523634447308595 ], [ 12.360177808007132, 51.523959055111469 ], [ 12.361429932441217, 51.524001589755557 ], [ 12.361415540206343, 51.524395592991048 ], [ 12.360185004124569, 51.524393354345932 ], [ 12.360185004124569, 51.524706763591453 ], [ 12.361393951854028, 51.524769445181704 ], [ 12.361389058849273, 51.525088124888285 ], [ 12.359968928825067, 51.525049524450566 ], [ 12.359983512836322, 51.524776161061261 ], [ 12.357982992188763, 51.524731388512201 ], [ 12.357947011601576, 51.524106806862314 ], [ 12.357367724147878, 51.524131432107509 ] ], [ [ 12.355162096614785, 51.523659504669737 ], [ 12.355115625755321, 51.523026609975638 ], [ 12.356499424681617, 51.522971994285157 ], [ 12.356566549256398, 51.523184031305149 ], [ 12.35627739724195, 51.523248284752654 ], [ 12.356313541243756, 51.523624165603955 ], [ 12.355162096614785, 51.523659504669737 ] ], [ [ 12.359856384786209, 51.524829144232307 ], [ 12.359852817248012, 51.524972310440809 ], [ 12.358029805228902, 51.524920149161154 ], [ 12.358031588998001, 51.524784751518062 ], [ 12.359856384786209, 51.524829144232307 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 1}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.352207582889996, 51.524507296073672 ], [ 12.352748064926971, 51.524640474897978 ], [ 12.352837253381919, 51.524498417471541 ], [ 12.352296771344941, 51.524377446344928 ], [ 12.352207582889996, 51.524507296073672 ] ] ] ] } },
{ "type": "Feature", "properties": { "dgn_phase": 2}, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 12.35236070030026, 51.522161910361689 ], [ 12.352840029228808, 51.522132755685618 ], [ 12.3527330779261, 51.521944232176942 ], [ 12.352551996771551, 51.521738999494616 ], [ 12.352055687531239, 51.521823913262914 ], [ 12.351682499216759, 51.521888185517668 ], [ 12.351970977951293, 51.522035758439628 ], [ 12.35236070030026, 51.522161910361689 ] ] ] ] } }
]}


;

    const geoLayer = L.geoJSON(geoJsonData, {
        style: feature => {
            if (feature.properties.dgn_phase === 2) {
                return { stroke: false, fillColor: 'grey', fillOpacity: 0.5 };
            } else {
                return { stroke: false, fillColor: '#ED782B', fillOpacity: 0.4 };
            }
        }
    });

    geoLayer.addTo(map);
   // map.fitBounds(geoLayer.getBounds());

    //button der auf ausgangskarte zurück zoomt auf karte bringen
    const zoomFullExtentControl = L.Control.extend({
        options: { position: 'topleft' },
        onAdd: function () {
            const container = L.DomUtil.create('div', 'custom-control');
            container.innerHTML = '<i class="fas fa-home"></i>';
            L.DomEvent.on(container, 'click', () => map.setView(initialCoordinates, initialZoomLevel));
            return container;
        }
    });
    map.addControl(new zoomFullExtentControl());

    //legende button auf karte bringen
    const legendControl = L.Control.extend({
        options: { position: 'topleft' },
        onAdd: function () {
            const container = L.DomUtil.create('div', 'custom-control2');
            container.innerHTML = '<i class="fas fa-list"></i>';
            L.DomEvent.on(container, 'click', () => {
                const legend = document.getElementById('legend');
                legend.style.display = legend.style.display === 'none' ? 'block' : 'none';
            });
            return container;
        }
    });
    map.addControl(new legendControl());
    
    const markerLayerGroup = L.layerGroup().addTo(map);

    //grauer kreis als marker
    const geocoder = L.Control.geocoder({
        defaultMarkGeocode: false //default rausnehmen
    })
        .on('markgeocode', function (e) {
            //existierende marker löschen
            markerLayerGroup.clearLayers();

            const latlng = e.geocode.center;

            //grauer kreis als custom marker
            const customMarker = L.divIcon({
                className: 'custom-marker'
            });

            const marker = L.marker(latlng, { icon: customMarker });
            markerLayerGroup.addLayer(marker);

            //zoom auf ausgewählte adresse
            map.setView(latlng, 14);
        })
        .addTo(map);

</script>
</body>
</html>
